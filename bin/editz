#!/usr/bin/env zsh
if [[ "$#" == 0 ]]; then
  $EDITOR
  return
fi

if [[ -f "$1" || -d "$1" ]]; then
  $EDITOR "$1"
  return
fi

local zquery_result="$(zoxide query $1 2>/dev/null)"
if [[ -v zquery_result && (-f "$zquery_result" || -d "$zquery_result") ]]; then
  $EDITOR "$zquery_result"
  return
fi

nvim "$@"
