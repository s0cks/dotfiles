#!/usr/bin/env zsh

fznpmig() {
  local pkg
  pkg=$(
    npm search --no-description --json "$1" | jq '.[].name' -r | fzf \
      --query "$1" \
      --preview="npm info {}" \
      --bind="ctrl-x:execute-silent(npm repo {})"
  )

  if [[ "$pkg" != "" ]]; then
    echo "installing: $pkg"
    npm i -g "$pkg"
  fi
}
