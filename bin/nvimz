#!/usr/bin/env zsh

nvimz() {
  if [[ "$1" != "" ]]; then
    if [[ -f "$1" || -d "$1" ]]; then
      nvim "$1"
    else
      local dir
      dir=$(zoxide query "$1" 2>/dev/null)
      if [[ "$dir" != "" && -d "$dir/" ]]; then
        cd "$dir/"
        nvim "$dir/"
      else
        nvim "$1"
      fi
    fi
  else
    nvim
  fi
}
